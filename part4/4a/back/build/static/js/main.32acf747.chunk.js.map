{"version":3,"sources":["components/Search.js","components/AddNew.js","components/Post.js","components/PostList.js","services/posts.js","components/Notification.js","App.js","index.js"],"names":["Search","_ref","search","handleSearch","react_default","a","createElement","placeholder","value","onChange","AddNew","handleData","newPost","handleChange","onSubmit","title","name","author","type","Post","post","deletePost","updatePost","url","likes","id","onClick","postListStyle","color","paddingTop","fontSize","PostList","searchFilter","style","map","components_Post","key","services_posts","axios","get","then","response","data","newObject","delete","concat","errorStyle","display","background","borderStyle","borderRadius","padding","marginBottom","successStyle","noMessage","Notification","message","App","_useState","useState","_useState2","Object","slicedToArray","posts","setPosts","_useState3","_useState4","setNewPost","_useState5","_useState6","setSearch","_useState7","_useState8","setMessage","useEffect","postService","initialPosts","catch","error","console","log","components_Notification","components_Search","event","target","components_AddNew","preventDefault","postObject","returnedPost","setTimeout","addPost","length","newTitle","prevState","objectSpread","newAuthor","components_PostList","filter","toLowerCase","includes","deletedPostTitle","window","confirm","postMatch","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.32acf747.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Search = ({ search, handleSearch }) => {\r\n\r\n  return (\r\n    <div>\r\n     <form>\r\n        <input placeholder=\"Search..\" value={search} onChange={handleSearch}/>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search","import React from \"react\";\r\n\r\nconst AddNew = ({ handleData, newPost, handleChange }) => {\r\n\r\n  return (\r\n    <div>\r\n     <h3>Add a new phone</h3>\r\n     <form onSubmit={handleData}>\r\n        <div>\r\n          Title: <input value={newPost.title} name=\"title\" onChange={handleChange} />\r\n        </div>\r\n        <div>\r\n          Author: <input value={newPost.author} name=\"author\" onChange={handleChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddNew","import React from 'react'\r\n\r\nconst Post = ({post, deletePost, updatePost}) => {\r\n  return (\r\n    <li>\r\n    {post.title} {post.author} {post.url} {post.likes} \r\n    <button title={post.title} value={post.id} onClick={deletePost}>del</button>\r\n    <button title={post.title} value={post.id} onClick={updatePost}>edit</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Post","import React from \"react\";\r\nimport Post from \"./Post\";\r\n\r\nconst PostList = ({ searchFilter, deletePost, updatePost }) => {\r\n  const postList = () =>\r\n    searchFilter().map((post, id) => (\r\n      <Post key={id} post={post} deletePost={deletePost} updatePost={updatePost} />\r\n    ));\r\n\r\n  return (\r\n    <div>\r\n      <h2>Posts</h2>\r\n      <ol style={postListStyle}>{postList()}</ol>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst postListStyle = {\r\n    color: \"grey\",\r\n    paddingTop: \"5px\",\r\n    fontSize: \"15px\",\r\n}\r\n\r\nexport default PostList;\r\n","import axios from \"axios\";\r\nconst baseUrl = '/api/posts';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message[0] === \"success\") {\r\n    return <div style={successStyle}>{message[1]}</div>;\r\n  } else if (message[0] === \"error\") {\r\n    return <div style={errorStyle}>{message[1]}</div>;\r\n  } else {\r\n    return <div style={noMessage}></div>;\r\n  }\r\n};\r\n\r\nconst errorStyle = {\r\n  display: \"block\",\r\n  color: \"red\",\r\n  background: \"lightgrey\",\r\n  fontSize: \"20px\",\r\n  borderStyle: \"solid\",\r\n  borderRadius: \"5px\",\r\n  padding: \"10px\",\r\n  marginBottom: \"10px\"\r\n};\r\n\r\nconst successStyle = {\r\n  display: \"block\",\r\n  color: \"green\",\r\n  background: \"lightgrey\",\r\n  fontSize: \"20px\",\r\n  borderStyle: \"solid\",\r\n  borderRadius: \"5px\",\r\n  padding: \"10px\",\r\n  marginBottom: \"10px\"\r\n};\r\n\r\nconst noMessage = {\r\n  display: \"none\",\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Search from \"./components/Search\";\r\nimport AddNew from \"./components/AddNew\";\r\nimport PostList from \"./components/PostList\";\r\nimport postService from \"./services/posts\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [newPost, setNewPost] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [message, setMessage] = useState([])\r\n\r\n  useEffect(() => {\r\n    postService\r\n      .getAll()\r\n      .then(initialPosts => {\r\n        setPosts(initialPosts);\r\n      })\r\n      .catch(error => {\r\n        console.log(error.message);\r\n      });\r\n  }, []);\r\n\r\n  //Search\r\n  const searchFilter = () =>\r\n    posts.filter(post =>\r\n      post.title.toLowerCase().includes(search.toLowerCase())\r\n    );\r\n  const handleSearch = event => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  //NewPost state change\r\n  const handleChange = event => {\r\n    if(event.target.name===\"title\"){\r\n      const newTitle = event.target.value\r\n      setNewPost(prevState => {\r\n        return { ...prevState, title: newTitle }\r\n      });\r\n    }\r\n    if(event.target.name===\"author\"){\r\n      const newAuthor = event.target.value\r\n      setNewPost(prevState => {\r\n        return { ...prevState, author: newAuthor }\r\n      });\r\n    } \r\n  };\r\n\r\n  //Checks and returns already existing post or undefined\r\n/*   const checkExisting = newTitle => {\r\n    const postMatch = posts.find(post => post.title === newTitle)\r\n    return postMatch;\r\n  }; */\r\n\r\n  //Add a new title\r\n  const addPost = (postObject) => {\r\n    postService\r\n      .create(postObject)\r\n      .then(returnedPost => {\r\n        setPosts(posts.concat(returnedPost));\r\n        setMessage([\"success\", `'${postObject.title}' was added`]);\r\n        setTimeout(() => {\r\n          setMessage([])\r\n        }, 5000) \r\n        setNewPost([]);\r\n      })\r\n      .catch(error => {\r\n        setMessage([\"error\", error.response.data.error])\r\n        setTimeout(() => {\r\n          setMessage([])\r\n        }, 5000)\r\n      });\r\n  }\r\n\r\n  //Update existing post\r\n  const updatePost = (postMatch, postObject) => {\r\n   /*  if (window.confirm(`${postMatch.title} is already added to phonebook. Do you want to replace it?`)) {\r\n      postService\r\n      .update(postMatch.id, postObject)\r\n      .then(updatedPost => {\r\n        setPosts(posts.map(post => (post.id!==postMatch.id) ? post : updatedPost))\r\n        setMessage([\"success\", `'${postMatch.title}' was updated`])\r\n        setTimeout(() => {\r\n          setMessage([])\r\n        }, 5000) \r\n      })\r\n      .catch(error => {\r\n        console.log(error.response);\r\n        setMessage([\"error\", error.response.data.error])\r\n        setTimeout(() => {\r\n          setMessage([])\r\n        }, 5000)\r\n      })\r\n    } */\r\n  }\r\n\r\n  //Handle add or update functionality\r\n  const handleData = event => {\r\n    event.preventDefault();\r\n    const postObject = {\r\n      id: posts.length++,\r\n      title: newPost.title,\r\n      author: newPost.author,\r\n      url: \"url\",\r\n      likes: 0\r\n    };\r\n    /* const postMatch = checkExisting(postObject.title)\r\n    postMatch === undefined ? addPost(postObject) : updatePost(postMatch, postObject) */\r\n    addPost(postObject)\r\n    setNewPost([]);\r\n  };\r\n\r\n  //Delete post\r\n  const deletePost = event => {\r\n    event.preventDefault();\r\n    const deletedPostTitle = event.target.title;\r\n    if (window.confirm(`Do you want to delete ${deletedPostTitle}`)) {\r\n      postService\r\n        .remove(event.target.value)\r\n        .then(() =>{\r\n          setPosts(posts.filter(post => post.title !== deletedPostTitle));\r\n          setMessage([\"success\", `'${deletedPostTitle}' was deleted`])\r\n          setTimeout(() => {\r\n            setMessage([])\r\n          }, 5000) \r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n          setMessage([\"error\", `Note '${deletedPostTitle}' was already deleted`])\r\n          setTimeout(() => {\r\n            setMessage([])\r\n          }, 5000) \r\n           setPosts(posts.filter(post => post.title !== deletedPostTitle))\r\n        })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Blog posts</h2>\r\n      <Notification message={message} />\r\n      <Search search={search} handleSearch={handleSearch} />\r\n      <AddNew\r\n        handleData={handleData}\r\n        newPost={newPost}\r\n        handleChange={handleChange}\r\n      />\r\n      <PostList searchFilter={searchFilter} deletePost={deletePost} updatePost={updatePost} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}