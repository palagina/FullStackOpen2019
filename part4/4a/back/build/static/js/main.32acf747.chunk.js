(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(39)},21:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),l=n.n(o),c=(n(21),n(4)),u=n(3),i=function(e){var t=e.search,n=e.handleSearch;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("input",{placeholder:"Search..",value:t,onChange:n})))},s=function(e){var t=e.handleData,n=e.newPost,a=e.handleChange;return r.a.createElement("div",null,r.a.createElement("h3",null,"Add a new phone"),r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"Title: ",r.a.createElement("input",{value:n.title,name:"title",onChange:a})),r.a.createElement("div",null,"Author: ",r.a.createElement("input",{value:n.author,name:"author",onChange:a})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},d=function(e){var t=e.post,n=e.deletePost,a=e.updatePost;return r.a.createElement("li",null,t.title," ",t.author," ",t.url," ",t.likes,r.a.createElement("button",{title:t.title,value:t.id,onClick:n},"del"),r.a.createElement("button",{title:t.title,value:t.id,onClick:a},"edit"))},f={color:"grey",paddingTop:"5px",fontSize:"15px"},m=function(e){var t=e.searchFilter,n=e.deletePost,a=e.updatePost;return r.a.createElement("div",null,r.a.createElement("h2",null,"Posts"),r.a.createElement("ol",{style:f},t().map(function(e,t){return r.a.createElement(d,{key:t,post:e,deletePost:n,updatePost:a})})))},p=n(2),h=n.n(p),g=function(){return h.a.get("/api/posts").then(function(e){return e.data})},v=function(e){return h.a.post("/api/posts",e).then(function(e){return e.data})},E=function(e){return h.a.delete("".concat("/api/posts","/").concat(e)).then(function(e){return e.data})},b={display:"block",color:"red",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},w={display:"block",color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},y={display:"none"},S=function(e){var t=e.message;return"success"===t[0]?r.a.createElement("div",{style:w},t[1]):"error"===t[0]?r.a.createElement("div",{style:b},t[1]):r.a.createElement("div",{style:y})},j=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)([]),d=Object(u.a)(l,2),f=d[0],p=d[1],h=Object(a.useState)(""),b=Object(u.a)(h,2),w=b[0],y=b[1],j=Object(a.useState)([]),k=Object(u.a)(j,2),x=k[0],O=k[1];Object(a.useEffect)(function(){g().then(function(e){o(e)}).catch(function(e){console.log(e.message)})},[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Blog posts"),r.a.createElement(S,{message:x}),r.a.createElement(i,{search:w,handleSearch:function(e){y(e.target.value)}}),r.a.createElement(s,{handleData:function(e){e.preventDefault(),function(e){v(e).then(function(t){o(n.concat(t)),O(["success","'".concat(e.title,"' was added")]),setTimeout(function(){O([])},5e3),p([])}).catch(function(e){O(["error",e.response.data.error]),setTimeout(function(){O([])},5e3)})}({id:n.length++,title:f.title,author:f.author,url:"url",likes:0}),p([])},newPost:f,handleChange:function(e){if("title"===e.target.name){var t=e.target.value;p(function(e){return Object(c.a)({},e,{title:t})})}if("author"===e.target.name){var n=e.target.value;p(function(e){return Object(c.a)({},e,{author:n})})}}}),r.a.createElement(m,{searchFilter:function(){return n.filter(function(e){return e.title.toLowerCase().includes(w.toLowerCase())})},deletePost:function(e){e.preventDefault();var t=e.target.title;window.confirm("Do you want to delete ".concat(t))&&E(e.target.value).then(function(){o(n.filter(function(e){return e.title!==t})),O(["success","'".concat(t,"' was deleted")]),setTimeout(function(){O([])},5e3)}).catch(function(e){console.log(e),O(["error","Note '".concat(t,"' was already deleted")]),setTimeout(function(){O([])},5e3),o(n.filter(function(e){return e.title!==t}))})},updatePost:function(e,t){}}))};l.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.32acf747.chunk.js.map