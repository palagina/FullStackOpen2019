{"version":3,"sources":["components/Search.js","components/AddNew.js","components/Person.js","components/PhoneList.js","services/names.js","components/Notification.js","App.js","index.js"],"names":["Search","_ref","search","handleSearch","react_default","a","createElement","placeholder","value","onChange","AddNew","handleData","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","deleteName","name","number","id","onClick","phoneListStyle","color","paddingTop","fontSize","PhoneList","searchFilter","style","map","components_Person","key","names","axios","get","then","response","data","newObject","post","put","concat","delete","errorStyle","display","background","borderStyle","borderRadius","padding","marginBottom","successStyle","noMessage","Notification","message","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearch","_useState9","_useState10","setMessage","useEffect","nameService","initialPersons","catch","error","console","log","components_Notification","components_Search","event","target","components_AddNew","preventDefault","nameObject","personMatch","find","checkExisting","undefined","returnedName","setTimeout","addName","window","confirm","updatedPerson","statusText","updateName","components_PhoneList","filter","toLowerCase","includes","deletedName","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.761feafc.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Search = ({ search, handleSearch }) => {\r\n\r\n  return (\r\n    <div>\r\n     <form>\r\n        <input placeholder=\"Search..\" value={search} onChange={handleSearch}/>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search","import React from \"react\";\r\n\r\nconst AddNew = ({ handleData, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n\r\n  return (\r\n    <div>\r\n     <h3>Add a new phone</h3>\r\n     <form onSubmit={handleData}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddNew","import React from 'react'\r\n\r\nconst Person = ({person, deleteName}) => {\r\n  return (\r\n    <li>\r\n    {person.name} {person.number} \r\n    <button name={person.name} value={person.id} onClick={deleteName}>del</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst PhoneList = ({ searchFilter, deleteName }) => {\r\n  const phoneList = () =>\r\n    searchFilter().map((person, id) => (\r\n      <Person key={id} person={person} deleteName={deleteName} />\r\n    ));\r\n\r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      <ol style={phoneListStyle}>{phoneList()}</ol>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst phoneListStyle = {\r\n    color: \"grey\",\r\n    paddingTop: \"5px\",\r\n    fontSize: \"15px\",\r\n}\r\n\r\nexport default PhoneList;\r\n","import axios from \"axios\";\r\nconst baseUrl = '/api/names';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message[0] === \"success\") {\r\n    return <div style={successStyle}>{message[1]}</div>;\r\n  } else if (message[0] === \"error\") {\r\n    return <div style={errorStyle}>{message[1]}</div>;\r\n  } else {\r\n    return <div style={noMessage}></div>;\r\n  }\r\n};\r\n\r\nconst errorStyle = {\r\n  display: \"block\",\r\n  color: \"red\",\r\n  background: \"lightgrey\",\r\n  fontSize: \"20px\",\r\n  borderStyle: \"solid\",\r\n  borderRadius: \"5px\",\r\n  padding: \"10px\",\r\n  marginBottom: \"10px\"\r\n};\r\n\r\nconst successStyle = {\r\n  display: \"block\",\r\n  color: \"green\",\r\n  background: \"lightgrey\",\r\n  fontSize: \"20px\",\r\n  borderStyle: \"solid\",\r\n  borderRadius: \"5px\",\r\n  padding: \"10px\",\r\n  marginBottom: \"10px\"\r\n};\r\n\r\nconst noMessage = {\r\n  display: \"none\",\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Search from \"./components/Search\";\r\nimport AddNew from \"./components/AddNew\";\r\nimport PhoneList from \"./components/PhoneList\";\r\nimport nameService from \"./services/names\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [message, setMessage] = useState([])\r\n\r\n  useEffect(() => {\r\n    nameService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons);\r\n      })\r\n      .catch(error => {\r\n        console.log(error.message);\r\n      });\r\n  }, []);\r\n\r\n  const searchFilter = () =>\r\n    persons.filter(person =>\r\n      person.name.toLowerCase().includes(search.toLowerCase())\r\n    );\r\n  const handleSearch = event => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    setNewName(event.target.value);\r\n  };\r\n  const handleNumberChange = event => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  //Checks and returns already existing person or undefined\r\n  const checkExisting = newName => {\r\n    const personMatch = persons.find(person => person.name === newName)\r\n    return personMatch;\r\n  };\r\n\r\n  //Add a new name\r\n  const addName = (nameObject) => {\r\n    nameService\r\n      .create(nameObject)\r\n      .then(returnedName => {\r\n        setPersons(persons.concat(returnedName));\r\n        setMessage([\"success\", `'${nameObject.name}' was added`]);\r\n        setTimeout(() => {\r\n          setMessage([])\r\n        }, 5000) \r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n      })\r\n      .catch(error => {\r\n        setMessage([\"error\", error.response.data.error])\r\n        setTimeout(() => {\r\n          setMessage([])\r\n        }, 5000)\r\n      });\r\n  }\r\n\r\n  //Update existing person\r\n  const updateName = (personMatch, nameObject) => {\r\n    if (window.confirm(`${personMatch.name} is already added to phonebook. Do you want to replace it?`)) {\r\n      nameService\r\n      .update(personMatch.id, nameObject)\r\n      .then(updatedPerson => {\r\n        setPersons(persons.map(person => (person.id!==personMatch.id) ? person : updatedPerson))\r\n        setMessage([\"success\", `'${personMatch.name}' was updated`])\r\n        setTimeout(() => {\r\n          setMessage([])\r\n        }, 5000) \r\n      })\r\n      .catch(error => {\r\n        console.log(error.response);\r\n        setMessage([\"error\", error.response.statusText])\r\n        setTimeout(() => {\r\n          setMessage([])\r\n        }, 5000)\r\n      })\r\n    }\r\n  }\r\n\r\n  //Handle add or update functionality\r\n  const handleData = event => {\r\n    event.preventDefault();\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n    const personMatch = checkExisting(newName)\r\n    personMatch === undefined ? addName(nameObject) : updateName(personMatch, nameObject)\r\n    setNewName(\"\");\r\n    setNewNumber(\"\");\r\n  };\r\n\r\n  //Delete person\r\n  const deleteName = event => {\r\n    event.preventDefault();\r\n    const deletedName = event.target.name;\r\n    console.log(event.target.value);\r\n    if (window.confirm(`Do you want to delete ${deletedName}`)) {\r\n      nameService\r\n        .remove(event.target.value)\r\n        .then(() =>{\r\n          setPersons(persons.filter(person => person.name !== deletedName));\r\n          setMessage([\"success\", `'${deletedName}' was deleted`])\r\n          setTimeout(() => {\r\n            setMessage([])\r\n          }, 5000) \r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n          setMessage([\"error\", `Note '${deletedName}' was already deleted`])\r\n          setTimeout(() => {\r\n            setMessage([])\r\n          }, 5000) \r\n           setPersons(persons.filter(person => person.name !== deletedName))\r\n        })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <Search search={search} handleSearch={handleSearch} />\r\n      <AddNew\r\n        handleData={handleData}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <PhoneList searchFilter={searchFilter} deleteName={deleteName} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}